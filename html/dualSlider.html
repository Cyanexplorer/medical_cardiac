<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/dualSlider.css">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
</head>
<body>
    <div >
        <div id="dual_slider" class="dualslider">
        </div>
    </div>


    <script type="text/javascript">

        let dualSliderConstructor = (domElement, min, max) => {

            let gap = 14
            let dualSlider = domElement

            let lowerBound = document.createElement('input')
            lowerBound.type = 'range'
            lowerBound.className = 'lower-bound'
            lowerBound.min = min
            lowerBound.max = max

            let higherBound = document.createElement('input')
            higherBound.type = 'range'
            higherBound.className = 'higher-bound'
            higherBound.min = min
            higherBound.max = max

            dualSlider.append(lowerBound)
            dualSlider.append(higherBound)

            let width = dualSlider.clientWidth * 1 - gap
            lowerBound.style.width = `${width}px`
            higherBound.style.width = `${width}px`

            let setRange = () => {
                let limit = lowerBound.value / lowerBound.max
                higherBound.style.width = `${limit * width}px`
                higherBound.style.width = `${higherBound.clientWidth + (1 - limit) * 16}px`
                higherBound.max = lowerBound.value * 1
            }
            lowerBound.addEventListener('input', setRange)
            setRange()
        }

        let getLowerValue = () => {
            let lowerBound = dualSlider.querySelector('.lower-bound')
            return lowerBound.max - lowerBound.value
        }

        let getRange = () => {
            let higherBound = dualSlider.querySelector('.higher-bound')
            return higherBound.value
        }

        let getHigherValue = () => {
            return getLowerValue() + getRange()
        }
        dualSliderConstructor(dual_slider, 0, 255)
    </script>
</body>
</html>